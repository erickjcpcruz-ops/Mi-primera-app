<script>
  // 1. Configuración de conexión (Con tus datos reales)
  const _supabaseUrl = 'https://ztoscymfplscnyybzzij.supabase.co';
  const _supabaseKey = 'PEGA_AQUI_TU_ANON_KEY'; // <--- BORRA ESTO Y PEGA TU KEY REAL
  const _supabase = supabase.createClient(_supabaseUrl, _supabaseKey);

  let saldo = 0;

  async function mostrarAnuncio() {
    // 1. Sumamos puntos en la pantalla inmediatamente
    saldo += 50;
    const balanceElement = document.getElementById('balance');
    if (balanceElement) balanceElement.innerText = saldo;

    // 2. Enviamos a la tabla 'posts' en Supabase
    const { data, error } = await _supabase
      .from('posts')
      .upsert({ 
        telegram_user_id: 7, // ID temporal
        total_points: saldo,
        content: "Puntos sumados desde Worldcoin App"
      }, { onConflict: 'telegram_user_id' });

    // 3. Verificación
    if (error) {
      console.error("Error de Supabase:", error.message);
    } else {
      console.log("¡Sincronizado correctamente!");
